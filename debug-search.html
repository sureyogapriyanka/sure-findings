<!DOCTYPE html>
<html>

<head>
    <title>Search Debug</title>
</head>

<body>
    <h1>Search Debug Test</h1>
    <input type="text" id="searchInput" placeholder="Enter search term">
    <button onclick="testSearch()">Search</button>
    <div id="results"></div>

    <script type="module">
        // Import the search function
        import { searchProducts } from './src/lib/products.js';

        window.testSearch = async function () {
            const query = document.getElementById('searchInput').value;
            const resultsDiv = document.getElementById('results');

            if (!query.trim()) {
                resultsDiv.innerHTML = '<p>Please enter a search term</p>';
                return;
            }

            try {
                resultsDiv.innerHTML = '<p>Searching...</p>';
                const results = await searchProducts(query);
                resultsDiv.innerHTML = `
                    <h2>Results for "${query}":</h2>
                    <p>Found ${results.length} products</p>
                    <ul>
                        ${results.map(product => `
                            <li>
                                <strong>${product.name}</strong> - ${product.brand} (${product.category})
                                <br>Price: â‚¹${product.price}
                            </li>
                        `).join('')}
                    </ul>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `<p>Error: ${error.message}</p>`;
                console.error('Search error:', error);
            }
        };
    </script>
</body>

</html>